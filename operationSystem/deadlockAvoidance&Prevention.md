# 교착 상태 예방(Deadlock prevention)

앞에서도 얘기한 교착 상태가 발생할 수 있는 네가지 조건 중 하나라도 발행하지 않도록 예방하는 것을 교착 상태 예방(`Deadlock prevention`)이라고 한다.

이 네가지는 아래와 같다.

1. 자원의 상호배제 조건 방지
2. 점유와 대기 조건 방지
3. 비선점 조건 방지
4. 순환 대기 조건 방지

# 교착 상태 회피(Deadlock avoidance)

위의 교착 상태 예방은 교착 상태를 예방할 수 있지만 그 대신 자원을 비효율적으로 사용되는 상황을 초래할 수 있다.

그도 그럴 것이 교착 상태 예방은 교착 상태의 발생 조건 중 하나라도 성립하지 않기 위해 많은 제약 조건이 생기게 된다. 특히 순환 대기 조건을 예방하기 위한 제약 조건은 프로세스 속도, 불필요한 자원 접근 거부 등의 이유로 비효율적이라고 볼 수 있다.

그래서 자원을 더 효율적으로 사용하기 위해 교착 상태 회피는 예방보다는 덜 엄격한 제약조건을 요구한다.

이러한 교착 상태 회피는 대개는 위험 구역을 파악하여 자원을 할당하는, 즉 교착상태 발생 가능성을 인정하고 교착 상태 발생하려고 할 때 적절히 회피하는 것이다. 이러한 교착상태 회피는 주로는 은행가 알고리즘, 프로세스의 시작 중단 등이 이용된다.

# 은행가 알고리즘(Banker's Algorithm)

은행가 알고리즘은 다익스트라 알고리즘으로 유명한 Edsger Dijkstra가 고안하였다.

우선 은행가 알고리즘은 교착 상태 회피를 위해 교착 상태에 빠질 가능성을 판단하기 위해

안전상태(`safe state`)와 불안정상태(`unsafe state`)로 나누어 안정상태만을 유지가능한 요구만을 수락하고 불안정 상태를 초래할 가능성이 있는 요구는 이가 해소될 때까지 계속하여 거절한다.

이를 좀 더 자세히 풀어서 본다면 Available, Max, Allocation, Need를 사용하여 프로세스 i개를 나누어서 보는 것이다.

wip

# 참고자료

> https://hoyeonkim795.github.io/posts/%EA%B5%90%EC%B0%A9%EC%83%81%ED%83%9C%ED%95%B4%EA%B2%B0%EB%B0%A9%EB%B2%95/

> https://jhnyang.tistory.com/102

> 한빛아카데미사의 그림으로 쉽게 배우는 운영체제
